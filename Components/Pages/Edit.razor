@page "/edit"
@rendermode InteractiveServer
@using WebKitchen.Components.Pages.EditForms;
<PageTitle>Edit</PageTitle>

<style>
    .header-padding {
        background-color: #313131;
        color: #48d7ff;
        border-radius: 5px;
        font-family: "Calibri Light", serif;
        display: inline-block;
        border: 2px solid #48d7ff;
        font-style: italic;
        font-weight: bold;
    }

    .header-padding:hover {
        background-color: #313131;
        color: #48d7ff;
    }
</style>

<div class="dropdown">
    <a class="btn btn-primary custom-layout dropdown-toggle btn-lg" href="#" role="button" data-bs-toggle="dropdown"
       aria-expanded="false">
        Choose what to edit
    </a>

    <ul class="dropdown-menu">
        <li>
            <button class="dropdown-item" type="submit" onclick="@(() => HandleOptionChange("mealType"))">Recipe Meal
                Type
            </button>
        </li>
        <li>
            <button class="dropdown-item" type="submit" onclick="@(() => HandleOptionChange("name"))">Recipe Name
            </button>
        </li>
        <li>
            <button class="dropdown-item" type="submit" onclick="@(() => HandleOptionChange("ingredient"))">Recipe
                Ingredient
            </button>
        </li>
        <li>
            <button class="dropdown-item" type="submit" onclick="@(() => HandleOptionChange("image"))">Recipe Image
            </button>
        </li>
        <li>
            <button class="dropdown-item" type="submit" onclick="@(() => HandleOptionChange("delete-recipe"))">Delete
                Recipe
            </button>
        </li>
        <li>
            <hr class="dropdown-divider"/>
        </li>
        <li>
            <button class="dropdown-item" type="submit" onclick="@(() => HandleOptionChange("ingredientDb"))">Ingredient
                in Database
            </button>
        </li>
        <li>
            <button class="dropdown-item" type="submit" onclick="@(() => HandleOptionChange("deleteIngredient"))">Delete
                Ingredient
            </button>
        </li>
        @*<li>
            <button class="dropdown-item" type="submit" onclick="@(() => HandleOptionChange("ingredientImage"))">
                Ingredient Image
            </button>
        </li>*@
        <li>
            <hr class="dropdown-divider"/>
        </li>
        <li>
            <button class="dropdown-item" type="submit" onclick="@(() => HandleOptionChange("database-ingredient"))">
                Database Ingredient
            </button>
        </li>
    </ul>
</div>

@if (selectedOption != "")
{
    <div class="card">
        <div class="card-body edit-recipes-form custom-button-margin">
            @switch (selectedOption)
            {
                case "mealType":
                    <EditMealTypeForm/>
                    break;
                case "name":
                    <EditNameForm/>
                    break;
                case "ingredient":
                    <EditIngredientForm/>
                    break;
                case "image":
                    <EditRecipeImageForm/>
                    break;
                case "delete-recipe":
                    <DeleteRecipeForm/>
                    break;
                case "deleteIngredient":
                    <DeleteIngredientForm/>
                    break;
                case "ingredientImage":
                    <EditIngredientImageForm/>
                    break;
                case "database-ingredient":
                    <EditDatabaseIngredient/>
                    break;
            }
        </div>

    </div>
}

@code {

    private string selectedOption = string.Empty;

    private void HandleOptionChange(string option)
    {
        selectedOption = option;
        StateHasChanged();
    }

}

